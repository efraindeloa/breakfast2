# ğŸ“š DocumentaciÃ³n de Breakfast App

## Ãndice General

Esta es la documentaciÃ³n completa de **Breakfast App**, una aplicaciÃ³n mÃ³vil y web para restaurantes que permite a los comensales interactuar con el establecimiento de manera digital.

---

## ğŸ“‚ Estructura de la DocumentaciÃ³n

### 1ï¸âƒ£ DOCUMENTACIÃ“N DE PRODUCTO (EL "QUÃ‰")

#### [ğŸ“„ Documento de VisiÃ³n](./01-producto/01-vision.md)
- QuÃ© es el producto
- QuÃ© problema resuelve
- Para quiÃ©n es
- QuÃ© NO es
- Valores fundamentales
- MÃ©tricas de Ã©xito

#### [ğŸ“„ Especificaciones Funcionales](./01-producto/02-especificaciones-funcionales.md)
- Todas las funcionalidades del sistema
- QuÃ© puede hacer cada tipo de usuario
- Flujos, reglas y restricciones

#### [ğŸ“„ User Stories / Casos de Uso](./01-producto/03-user-stories.md)
- Historias de usuario tipo "Como cliente quiero..."
- Casos normales y alternos
- Matriz de prioridades

---

### 2ï¸âƒ£ DOCUMENTACIÃ“N PARA USUARIOS (EL "CÃ“MO USARLO")

#### [ğŸ“˜ GuÃ­a del Usuario (Cliente)](./02-usuarios/01-guia-cliente.md)
- CÃ³mo registrarse
- CÃ³mo ordenar
- CÃ³mo pagar
- CÃ³mo usar promociones, IA, etc.
- Preguntas frecuentes (FAQ)

#### ğŸ“— GuÃ­a del Personal (Futuro)
- Para meseros
- Para cocina
- Para recepciÃ³n

#### ğŸ“• Manual del Propietario / Administrador (Futuro)
- Reportes
- MÃ©tricas
- Configuraciones
- Roles

---

### 3ï¸âƒ£ DOCUMENTACIÃ“N TÃ‰CNICA (EL "CÃ“MO FUNCIONA")

#### [ğŸ—ï¸ Arquitectura del Sistema](./03-tecnica/01-arquitectura.md)
- Frontend: React, TypeScript, Vite
- Backend: Estado actual y planificado
- Mobile: Capacitor, Android
- Estructura del proyecto
- GestiÃ³n de estado
- NavegaciÃ³n
- InternacionalizaciÃ³n
- Persistencia de datos
- Seguridad
- Build y deployment

#### ğŸ“¡ API Documentation (Futuro)
- Endpoints
- Payloads
- Errores
- AutenticaciÃ³n

#### ğŸ—„ï¸ Modelo de Datos (Futuro)
- Entidades
- Relaciones
- Diagramas ER

#### ğŸ” Seguridad (Futuro)
- AutenticaciÃ³n
- Roles
- Permisos
- Manejo de datos sensibles

---

### 4ï¸âƒ£ DOCUMENTACIÃ“N DE QA / PRUEBAS (EL "CÃ“MO SE VALIDA")

#### ğŸ§ª Plan de Pruebas (Futuro)
- QuÃ© se prueba
- QuÃ© no
- Ambientes

#### âœ… Casos de Prueba Manuales (Futuro)
- Paso a paso
- Datos de prueba
- Resultado esperado

#### ğŸ¤– Pruebas Automatizadas (Futuro)
- QuÃ© flujos estÃ¡n automatizados
- QuÃ© framework se usa
- CÃ³mo correrlas

#### ğŸ GestiÃ³n de Bugs (Futuro)
- Flujo de reporte
- Severidad
- Prioridades

---

### 5ï¸âƒ£ DOCUMENTACIÃ“N DE OPERACIÃ“N (EL "CÃ“MO SE MANTIENE")

#### ğŸš€ Deployment & Release (Futuro)
- Ambientes
- CI/CD
- Versionado

#### ğŸ“Š Monitoreo & Logs (Futuro)
- MÃ©tricas
- Alertas
- Dashboards

#### ğŸ”„ Backup & Recovery (Futuro)
- Respaldos
- RestauraciÃ³n
- Plan de contingencia

---

### 6ï¸âƒ£ DOCUMENTACIÃ“N LEGAL Y DE NEGOCIO

#### ğŸ“œ TÃ©rminos y Condiciones (Futuro)
- TÃ©rminos de uso
- Limitaciones de responsabilidad
- Propiedad intelectual

#### ğŸ”’ PolÃ­tica de Privacidad (Futuro)
- RecopilaciÃ³n de datos
- Uso de datos
- Compartir datos
- Derechos del usuario

#### ğŸ’³ Cumplimiento fiscal (SAT) (Futuro)
- FacturaciÃ³n electrÃ³nica
- CFDI
- RegÃ­menes fiscales

#### ğŸª Cookies / Tracking (Futuro)
- Uso de cookies
- Tracking de usuarios
- Opt-out

---

### 7ï¸âƒ£ DOCUMENTACIÃ“N DE DISEÃ‘O

#### ğŸ¨ Design System (Futuro)
- Colores
- TipografÃ­as
- Componentes
- Estados

#### ğŸ§  UX Flows (Futuro)
- Flujos por rol
- Estados vacÃ­os
- Errores

---

### 8ï¸âƒ£ DOCUMENTACIÃ“N PARA IA

#### ğŸ¤– Conocimiento del Asistente IA (Futuro)
- QuÃ© puede responder
- QuÃ© datos puede leer
- QuÃ© NO puede hacer

#### ğŸ§© Prompts base (Futuro)
- Sistema
- Seguridad
- Estilo de respuesta

---

## ğŸš€ Inicio RÃ¡pido

### Para Desarrolladores

1. **Arquitectura**: Empieza por [Arquitectura del Sistema](./03-tecnica/01-arquitectura.md)
2. **Funcionalidades**: Revisa [Especificaciones Funcionales](./01-producto/02-especificaciones-funcionales.md)
3. **Casos de Uso**: Entiende los [User Stories](./01-producto/03-user-stories.md)

### Para Product Managers

1. **VisiÃ³n**: Lee el [Documento de VisiÃ³n](./01-producto/01-vision.md)
2. **Funcionalidades**: Revisa [Especificaciones Funcionales](./01-producto/02-especificaciones-funcionales.md)
3. **User Stories**: Revisa los [User Stories](./01-producto/03-user-stories.md)

### Para Usuarios

1. **GuÃ­a del Usuario**: Consulta la [GuÃ­a del Usuario (Cliente)](./02-usuarios/01-guia-cliente.md)

---

## ğŸ“ Convenciones de DocumentaciÃ³n

### VersiÃ³n de Documentos
- **VersiÃ³n 1.0**: Documento inicial
- Se actualiza cuando hay cambios significativos
- La fecha de Ãºltima actualizaciÃ³n aparece al final de cada documento

### Estado de Documentos
- âœ… **Completo**: Documento completo y actualizado
- ğŸ”„ **En Progreso**: Documento parcialmente completo
- ğŸ”œ **Futuro**: Documento planificado pero no iniciado

### Formato
- Todos los documentos estÃ¡n en Markdown (`.md`)
- Usan formato estÃ¡ndar de Markdown
- Incluyen emojis para mejor visualizaciÃ³n
- Tienen tabla de contenido cuando es apropiado

---

## ğŸ”„ ActualizaciÃ³n de DocumentaciÃ³n

### Frecuencia
- La documentaciÃ³n se actualiza cuando:
  - Se agregan nuevas funcionalidades
  - Se modifican funcionalidades existentes
  - Se corrigen errores
  - Se cambia la arquitectura

### Responsable
- **Equipo de Desarrollo**: Mantiene la documentaciÃ³n tÃ©cnica
- **Product Manager**: Mantiene la documentaciÃ³n de producto
- **QA**: Mantiene la documentaciÃ³n de pruebas

---

## ğŸ“ Contacto

### Soporte TÃ©cnico
- **Email**: soporte@restaurante.com
- **GitHub**: [Repositorio del proyecto] (si estÃ¡ pÃºblico)

### Reportar Problemas
- **Issues**: Usar el sistema de issues del repositorio
- **Email**: Para problemas urgentes, enviar email a soporte

---

## ğŸ“„ Licencia

Este proyecto es propietario. Todos los derechos reservados.

---

**Ãšltima actualizaciÃ³n**: Enero 2025  
**VersiÃ³n del documento**: 1.5  
**Responsable**: Equipo de desarrollo

### Cambios Recientes (Enero 2025)

#### Nueva Funcionalidad: EdiciÃ³n de Ã“rdenes
- âœ… Pantalla de ediciÃ³n de Ã³rdenes (`/edit-order`)
- âœ… Permite modificar Ã³rdenes enviadas antes de que la cocina las acepte
- âœ… Modificar cantidades de items
- âœ… Eliminar items de la orden
- âœ… Agregar notas de Ãºltimo minuto
- âœ… Actualizar total automÃ¡ticamente
- âœ… DiseÃ±o moderno con visualizaciÃ³n de items
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: Lista de Espera (Waitlist)
- âœ… Pantalla de lista de espera (`/waitlist`)
- âœ… Escaneo QR para agregarse a lista de espera
- âœ… SelecciÃ³n de zona (interior, terraza, jardÃ­n, patio, rooftop)
- âœ… SelecciÃ³n de nÃºmero de personas
- âœ… VisualizaciÃ³n de posiciÃ³n en la fila
- âœ… Tiempo estimado de espera
- âœ… OpciÃ³n para cambiar de zona
- âœ… OpciÃ³n para cancelar solicitud
- âœ… DiseÃ±o progresivo con dos estados (confirmaciÃ³n inicial y progreso)
- âœ… ActualizaciÃ³n en tiempo real de la lista
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: Solicitud de Asistencia
- âœ… Pantalla de solicitud de asistencia (`/request-assistance`)
- âœ… Campo de bÃºsqueda con **bÃºsqueda fuzzy (difusa)** mejorada
- âœ… Botones de solicitudes predefinidas (cubiertos, servilletas, derrames, etc.)
- âœ… CreaciÃ³n dinÃ¡mica de solicitudes personalizadas
- âœ… Historial de solicitudes con persistencia en localStorage
- âœ… Limpieza automÃ¡tica del historial al completar el pago
- âœ… BotÃ³n destacado para solicitar asistencia personalizada
- âœ… Traducciones completas en 4 idiomas (es, en, pt, fr)

#### Nueva Funcionalidad: Opiniones Verificadas
- âœ… Pantalla de opiniones verificadas (`/product-reviews/:dishId`)
- âœ… EstadÃ­sticas del producto (promedio, total de reseÃ±as, distribuciÃ³n)
- âœ… Filtros (MÃ¡s Recientes, Con Foto, Modificados)
- âœ… Lista de opiniones verificadas con informaciÃ³n detallada
- âœ… CalificaciÃ³n promedio visible en detalle de producto
- âœ… NÃºmero de reseÃ±as clickeable que navega a opiniones

#### Mejoras: Sistema de Opiniones
- âœ… Solo se pueden calificar productos ordenados y pagados
- âœ… EdiciÃ³n de opiniones existentes
- âœ… CalificaciÃ³n independiente por producto
- âœ… Limpieza automÃ¡tica de campos al cambiar de producto
- âœ… Carga automÃ¡tica de datos al seleccionar producto ya calificado

#### Mejoras: Escaneo de Tarjetas
- âœ… **OCR real con Tesseract.js** para escaneo de tarjetas bancarias
- âœ… ExtracciÃ³n automÃ¡tica de datos de tarjeta (nÃºmero, nombre, fecha de vencimiento)
- âœ… Mejor reconocimiento con buena iluminaciÃ³n
- âœ… Manejo de errores y opciÃ³n de ingreso manual

#### Mejoras: Traducciones
- âœ… Todas las traducciones de la pÃ¡gina de agregar tarjeta
- âœ… Mensajes de error y Ã©xito en todos los idiomas
- âœ… Traducciones para OCR y escaneo de tarjetas

#### Mejoras: GestiÃ³n de ImÃ¡genes de Productos
- âœ… ActualizaciÃ³n de imÃ¡genes de productos para usar archivos locales
- âœ… ImÃ¡genes de coctelerÃ­a migradas a archivos locales (`/public`)
- âœ… ImÃ¡genes de postres migradas a archivos locales (`/public`)
- âœ… ImÃ¡genes de bebidas migradas a archivos locales (`/public`)
- âœ… Mejora en rendimiento al usar recursos locales en lugar de URLs externas
- âœ… CorrecciÃ³n de imÃ¡genes en pantalla de ediciÃ³n de Ã³rdenes

#### Mejoras: NavegaciÃ³n y Experiencia de Usuario
- âœ… PreservaciÃ³n de categorÃ­a seleccionada al regresar del detalle de producto
- âœ… PreservaciÃ³n de posiciÃ³n de scroll al regresar del detalle de producto
- âœ… Scroll automÃ¡tico al inicio al abrir detalle de producto
- âœ… BotÃ³n para agregar mÃ¡s items en pantalla de ediciÃ³n de Ã³rdenes
- âœ… Mejora en la experiencia de navegaciÃ³n entre menÃº y detalle de productos
- âœ… BotÃ³n de retroceso de Android funciona como navegaciÃ³n interna de la app

#### Nueva Funcionalidad: Descubrir Restaurantes
- âœ… Pantalla de descubrir restaurantes (`/discover`)
- âœ… Mapa interactivo con Leaflet y OpenStreetMap
- âœ… GeolocalizaciÃ³n real con Capacitor Geolocation
- âœ… VisualizaciÃ³n de restaurantes cercanos en el mapa
- âœ… Marcadores personalizados con imÃ¡genes de restaurantes
- âœ… SelecciÃ³n de ciudad para explorar restaurantes en diferentes zonas
- âœ… Lista de restaurantes cercanos con distancia, rating y estado
- âœ… Controles de zoom y centrado en ubicaciÃ³n
- âœ… CÃ¡lculo de distancias en tiempo real
- âœ… BotÃ³n "Reunirse aquÃ­" para compartir ubicaciÃ³n
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: Punto de Encuentro
- âœ… Pantalla de punto de encuentro (`/meetup`)
- âœ… Mapa mostrando restaurante seleccionado como punto de encuentro
- âœ… Marcador de ubicaciÃ³n del usuario
- âœ… SelecciÃ³n de restaurante para el punto de encuentro
- âœ… Compartir punto de encuentro con contactos registrados
- âœ… GeneraciÃ³n de links compartibles
- âœ… IntegraciÃ³n con WhatsApp y email
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: GestiÃ³n de Contactos
- âœ… Pantalla de gestiÃ³n de contactos (`/contacts`)
- âœ… Agregar contactos manualmente
- âœ… Editar contactos existentes
- âœ… Eliminar contactos
- âœ… Importar contactos desde el dispositivo mÃ³vil
- âœ… Acceso real a contactos del dispositivo con Capacitor Contacts
- âœ… Solicitud de permisos de contactos
- âœ… SelecciÃ³n mÃºltiple de contactos para importar
- âœ… ValidaciÃ³n de datos (nombre requerido, telÃ©fono o email)
- âœ… Persistencia en localStorage
- âœ… Traducciones completas en 4 idiomas

#### Mejoras: GeolocalizaciÃ³n
- âœ… VerificaciÃ³n de permisos antes de obtener ubicaciÃ³n
- âœ… Solicitud automÃ¡tica de permisos si no estÃ¡n concedidos
- âœ… Marcador de usuario mejorado y mÃ¡s visible
- âœ… Manejo de errores mejorado con logs de depuraciÃ³n
- âœ… Timeout y configuraciÃ³n de precisiÃ³n optimizada

#### Nueva Funcionalidad: Programa de Lealtad
- âœ… Pantalla de programa de lealtad (`/loyalty`)
- âœ… Sistema de puntos con niveles (Bronce, Plata, Oro, Platino)
- âœ… VisualizaciÃ³n de puntos totales y crecimiento mensual
- âœ… Barra de progreso hacia el siguiente nivel
- âœ… Beneficios por nivel con scroll horizontal
- âœ… SecciÃ³n "CÃ³mo ganar mÃ¡s puntos" con tareas
- âœ… IntegraciÃ³n en navegaciÃ³n inferior y perfil
- âœ… Persistencia en localStorage
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: Cupones y Recompensas
- âœ… Pantalla de cupones (`/coupons`)
- âœ… Saludo dinÃ¡mico segÃºn hora del dÃ­a
- âœ… Carousel horizontal de cupones con efecto de perforaciÃ³n
- âœ… Programa de referidos con cÃ³digo Ãºnico
- âœ… EstadÃ­sticas de referidos (referidos, puntos ganados)
- âœ… Compartir cÃ³digo de referido (Web Share API)
- âœ… Pantalla de detalle de cupÃ³n (`/coupon-detail/:id`)
- âœ… VisualizaciÃ³n de QR code en detalle
- âœ… Instrucciones de uso de cupones
- âœ… IntegraciÃ³n en navegaciÃ³n inferior y perfil
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: MÃ³dulo de Promociones
- âœ… Pantalla de promociones (`/promotions`)
- âœ… Filtros por categorÃ­a (Desayuno, Temporada, Exclusivo VIP)
- âœ… Carousel horizontal de promociones principales
- âœ… SecciÃ³n "Sugerencia de IA" con recomendaciÃ³n personalizada
- âœ… Grid de especiales de temporada
- âœ… Pantalla de detalle de promociÃ³n (`/promotion-detail/:id`)
- âœ… Contador regresivo en tiempo real
- âœ… SecciÃ³n "Ahorro Real" con precios antes/despuÃ©s
- âœ… Condiciones de aplicaciÃ³n (horarios, dÃ­as)
- âœ… Lista de items incluidos
- âœ… BotÃ³n sticky "Aplicar a mi Orden"
- âœ… IntegraciÃ³n en navegaciÃ³n inferior con badge de notificaciÃ³n
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: Mesa Lista (Table Ready)
- âœ… Pantalla de confirmaciÃ³n de mesa lista (`/table-ready`)
- âœ… DetecciÃ³n automÃ¡tica cuando posiciÃ³n en lista de espera es 0 o 1
- âœ… Contador regresivo en tiempo real (minutos y segundos)
- âœ… BotÃ³n "Â¡Ya estoy aquÃ­!" para confirmar asistencia
- âœ… BotÃ³n "Necesito 5 min mÃ¡s" para extender tiempo
- âœ… VisualizaciÃ³n de zona de la mesa
- âœ… DiseÃ±o con gradiente breakfast-gradient
- âœ… NavegaciÃ³n automÃ¡tica desde lista de espera
- âœ… Persistencia de datos en localStorage
- âœ… Traducciones completas en 4 idiomas

#### Nueva Funcionalidad: Pago Dividido (Split Payment)
- âœ… Pantalla de selecciÃ³n de items a pagar (`/split-payment-selection`)
- âœ… SelecciÃ³n automÃ¡tica de items del usuario por defecto
- âœ… SelecciÃ³n/deselecciÃ³n de cualquier item de la orden
- âœ… AgrupaciÃ³n de items iguales para mejor visualizaciÃ³n
- âœ… Badge "Tu item" en items del usuario
- âœ… CÃ¡lculo de subtotal en tiempo real
- âœ… Pantalla de resumen y pago (`/split-payment-summary`)
- âœ… CÃ¡lculo de impuestos (16% IVA)
- âœ… Sistema de propina (porcentaje o cantidad fija)
- âœ… SelecciÃ³n de mÃ©todo de pago (efectivo o tarjeta)
- âœ… VisualizaciÃ³n de tarjetas guardadas
- âœ… OpciÃ³n para agregar nueva tarjeta
- âœ… IntegraciÃ³n con sistema de pagos existente
- âœ… BotÃ³n "Dividir cuenta" en pantalla de pagos
- âœ… Traducciones completas en 4 idiomas

#### Mejoras: Asistente IA con Speech-to-Text
- âœ… Reconocimiento de voz nativo con Capacitor Speech Recognition
- âœ… Reconocimiento de voz web con Web Speech API
- âœ… DetecciÃ³n automÃ¡tica de plataforma (nativo vs web)
- âœ… Solicitud de permisos de micrÃ³fono
- âœ… Manejo robusto de errores y permisos
- âœ… Indicador visual de estado de escucha
- âœ… BotÃ³n de micrÃ³fono en modal de asistente
- âœ… Traducciones completas en 4 idiomas